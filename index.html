<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" href="logo.png">
  <link rel="apple-touch-icon" href="logo.png">
  <meta property="og:image" content="logo.png">
  <title>Clube Mercês • Punhobol</title>
  <style>
    :root{--border:#e5e7eb;--text:#0a0a0a;--muted:#6b7280;--bg:#fafafa}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1040px;margin:0 auto;padding:0 16px}
    header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--border);z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:-.02em}
    .brand img{height:40px;border-radius:8px}
    .links a{margin-left:14px;opacity:.9}
    .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:12px;border:1px solid var(--border)}
    main{padding:24px 0}
    h1{font-size:clamp(26px,5vw,42px);margin:0 0 6px}
    section{padding:26px 0;border-top:1px solid var(--border)}
    .muted{color:var(--muted)}
    table{width:100%;border-collapse:collapse;font-size:14px}
    th,td{border:1px solid var(--border);padding:8px;text-align:left}

    /* Logo badges */
    .sec-title{display:flex;align-items:center;gap:10px}
    .sec-logo{height:20px;width:auto;border-radius:6px}
    .foot-logo{height:18px;width:auto;border-radius:4px;vertical-align:middle;margin-right:6px}

    /* Roster */
    .roster-grid{display:grid;gap:14px}
    @media(min-width:760px){.roster-grid{grid-template-columns:repeat(3,1fr)}}
    .card{border:1px solid var(--border);border-radius:12px;background:#fff;padding:14px}
    .card h3{margin:0 0 8px 0}
    .card ul{list-style:none;padding:0;margin:0}
    .card li{padding:6px 0;border-top:1px dashed var(--border)}
    .card li:first-child{border-top:none}

    /* Galeria */
    .gallery{display:grid;gap:14px}
    @media(min-width:760px){.gallery{grid-template-columns:repeat(3,1fr)}}
    .gallery figure{margin:0;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff}
    .gallery img{width:100%;height:260px;object-fit:cover;display:block}
    .gallery figcaption{padding:8px 10px;font-size:12px;color:var(--muted)}
    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;padding:20px}
    .lightbox.open{display:flex}
    .lightbox img{max-width:95vw;max-height:85vh;border-radius:12px}
    .lightbox .cap{color:#fff;margin-top:10px;text-align:center}

    /* Calendário */
    .cal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
    .dow,.day{padding:8px;border:1px solid var(--border);border-radius:10px;background:#fff;text-align:center;font-size:12px}
    .dow{font-weight:600;background:#f7f7f7}
    .day{min-height:54px;position:relative}
    .day.muted{opacity:.5}
    .dot{width:6px;height:6px;border-radius:999px;background:#111;position:absolute;bottom:6px;left:50%;transform:translateX(-50%)}
    .today{outline:2px solid #111}
    .event-list{margin-top:12px;border:1px solid var(--border);border-radius:12px;background:#fff;padding:12px}
    .event-item{border-top:1px dashed var(--border);padding:10px 0;font-size:14px}
    .event-item:first-child{border-top:none}
    .small{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
<header>
  <div class="wrap nav">
    <div class="brand">
      <img src="logo.png" alt="Logo">
      Clube Mercês • Punhobol
    </div>
    <nav class="links">
      <a href="#calendario">Calendário</a>
      <a href="#fotos">Fotos</a>
      <a class="btn" href="https://wa.me/4367762304337?text=Ol%C3%A1!%20Tenho%20interesse%20no%20Punhobol%20do%20Clube%20Merc%C3%AAs." target="_blank" rel="noreferrer">WhatsApp</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <section style="border-top:none">
    <h1>Punhobol no coração de Curitiba</h1>
    <p class="muted">Treinos formativos, integração entre categorias e foco em valores que o esporte ensina: trabalho em equipe, disciplina e respeito.</p>
  </section>

  <!-- CALENDÁRIO -->
  <section id="calendario">
    <h2 class="sec-title"><img src="logo.png" class="sec-logo" alt=""> <span>Calendário<\/span><\/h2>
    <div class="cal-head">
      <button class="btn" id="prev">← mês anterior</button>
      <div><strong id="monthLabel">Mês</strong></div>
      <button class="btn" id="next">próximo mês →</button>
    </div>
    <div class="cal-grid" id="cal">
      <!-- cabeçalho -->
    </div>

    <div class="event-list" id="eventList">
      <div class="small">Selecione um dia com ponto preto para ver os eventos. Abaixo estão os próximos:</div>
      <div id="upcoming"></div>
    </div>
  </section>

  <!-- GALERIA -->
  <section id="fotos">
    <h2 class="sec-title"><img src="logo.png" class="sec-logo" alt=""> <span>Fotos do time<\/span><\/h2>
    <div class="gallery" id="gallery"></div>
  </section>

  <!-- CATEGORIAS E ELENCO -->
  <section id="categorias">
    <h2 class="sec-title"><img src="logo.png" class="sec-logo" alt=""> <span>Categorias e elenco<\/span><\/h2>
    <div style="margin:8px 0 14px">
      <input id="buscar" placeholder="Buscar atleta..." style="width:100%;padding:10px;border:1px solid var(--border);border-radius:12px">
    </div>
    <div id="roster" class="roster-grid"></div>
  </section>

  <!-- HORÁRIOS FIXOS (opcional) -->
  <section id="horarios">
    <h2 class="sec-title"><img src="logo.png" class="sec-logo" alt=""> <span>Horários e locais<\/span><\/h2>
    <table>
      <thead><tr><th>Dia</th><th>Horário</th><th>Local</th><th>Foco</th></tr></thead>
      <tbody>
        <tr><td>Terça</td><td>18:30 - 20:00</td><td>Quadra Externa - Clube Mercês</td><td>Sub-10 / Sub-12</td></tr>
        <tr><td>Quinta</td><td>19:00 - 20:30</td><td>Quadra Externa - Clube Mercês</td><td>Sub-14 / Sub-16</td></tr>
        <tr><td>Sábado</td><td>09:00 - 11:00</td><td>Campo do Master</td><td>Treino Geral / Integração</td></tr>
      </tbody>
    </table>
  </section>

  <section id="contato">
    <h2 class="sec-title"><img src="logo.png" class="sec-logo" alt=""> <span>Contato<\/span><\/h2>
    <p><a class="btn" href="https://wa.me/4367762304337?text=Ol%C3%A1!%20Tenho%20interesse%20no%20Punhobol%20do%20Clube%20Merc%C3%AAs." target="_blank" rel="noreferrer">Chamar no WhatsApp</a></p>
  </section>
</main>

<footer style="border-top:1px solid var(--border);margin-top:20px">
  <div class="wrap" style="padding:16px 0;color:var(--muted)"><img src="logo.png" alt="" class="foot-logo"> © <span id="year"></span> Clube Mercês – Punhobol</div>
</footer>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="this.classList.remove('open')">
  <div>
    <img id="lightImg" alt="">
    <div class="cap" id="lightCap"></div>
  </div>
</div>

<script>
  // ====== CONFIGURAR AQUI ======

  // 1) GALERIA — adicione/edite fotos (arquivo deve estar em /fotos)
  const PHOTOS = [
    { alt: 'Sub-10 / Sub-12', candidates: ['fotos/sub10-sub12.png','fotos/sub10-sub12.jpg','fotos/Foto 10 e 12.png'] },
    { alt: 'Grupo feminino / Master', candidates: ['fotos/feminino-master.png','fotos/feminino-master.jpg','fotos/foto master.png'] },
    { alt: 'Adulto Masculino – pódio', candidates: ['fotos/adulto-masculino.png','fotos/adulto-masculino.jpg','fotos/Masculino adulto foto.png'] },
    // Para adicionar mais: { alt: 'Descrição', candidates: ['fotos/nome.png','fotos/nome.jpg'] },
  ];

  // 2) EVENTOS — liste aqui (data no formato AAAA-MM-DD)
  const EVENTS = [
    // Março
    { date: '2025-03-15', title: 'Copa Mercês', location: 'Curitiba/PR' },
    { date: '2025-03-16', title: 'Copa Mercês', location: 'Curitiba/PR' },

    // Abril
    { date: '2025-04-05', title: 'Copa SGNH', location: 'Novo Hamburgo/RS' },
    { date: '2025-04-06', title: 'Copa SGNH', location: 'Novo Hamburgo/RS' },
    { date: '2025-04-11', title: 'Copa Sogipa', location: 'Porto Alegre/RS' },
    { date: '2025-04-12', title: 'Copa Sogipa', location: 'Porto Alegre/RS' },
    { date: '2025-04-13', title: 'Copa Sogipa', location: 'Porto Alegre/RS' },
    { date: '2025-04-26', title: 'Copa Duque', location: 'Curitiba/PR' },
    { date: '2025-04-27', title: 'Copa Duque', location: 'Curitiba/PR' },

    // Maio
    { date: '2025-05-17', title: 'Copa Guarani', location: 'Blumenau/SC' },
    { date: '2025-05-18', title: 'Copa Guarani', location: 'Blumenau/SC' },

    // Julho
    { date: '2025-07-24', title: 'IFA World Tour Finals', location: 'Áustria' },
    { date: '2025-07-25', title: 'IFA World Tour Finals', location: 'Áustria' },
    { date: '2025-07-26', title: 'IFA World Tour Finals', location: 'Áustria' },
    { date: '2025-07-27', title: 'IFA World Tour Finals', location: 'Áustria' },

    // Agosto
    { date: '2025-08-01', title: 'Jona', location: 'Suíça' },
    { date: '2025-08-02', title: 'Jona', location: 'Suíça' },
    { date: '2025-08-03', title: 'Jona', location: 'Suíça' },
    { date: '2025-08-07', title: 'The World Games', location: 'China' },
    { date: '2025-08-08', title: 'The World Games', location: 'China' },
    { date: '2025-08-09', title: 'The World Games', location: 'China' },
    { date: '2025-08-10', title: 'The World Games', location: 'China' },
    { date: '2025-08-11', title: 'The World Games', location: 'China' },
    { date: '2025-08-12', title: 'The World Games', location: 'China' },
    { date: '2025-08-13', title: 'The World Games', location: 'China' },
    { date: '2025-08-14', title: 'The World Games', location: 'China' },
    { date: '2025-08-15', title: 'The World Games', location: 'China' },
    { date: '2025-08-16', title: 'The World Games', location: 'China' },
    { date: '2025-08-17', title: 'The World Games', location: 'China' },
    { date: '2025-08-30', title: 'Brasileiro Adulto – 1ª Etapa', location: 'Novo Hamburgo/RS' },
    { date: '2025-08-31', title: 'Brasileiro Adulto – 1ª Etapa', location: 'Novo Hamburgo/RS' },

    // Setembro
    { date: '2025-09-06', title: 'Data reserva – Brasileiro Adulto (Etapa 01)', location: '' },
    { date: '2025-09-07', title: 'Data reserva – Brasileiro Adulto (Etapa 01)', location: '' },
    { date: '2025-09-13', title: 'Brasileiro Adulto – Final 4', location: 'São Bento do Sul/SC' },
    { date: '2025-09-14', title: 'Brasileiro Adulto – Final 4', location: 'São Bento do Sul/SC' },
    { date: '2025-09-20', title: 'Data reserva – Final 4', location: '' },
    { date: '2025-09-21', title: 'Data reserva – Final 4', location: '' },
    { date: '2025-09-27', title: 'Brasileiro U12/U16/U21', location: 'São Bento do Sul/SC' },
    { date: '2025-09-28', title: 'Brasileiro U12/U16/U21', location: 'São Bento do Sul/SC' },

    // Outubro
    { date: '2025-10-04', title: 'Data reserva – Brasileiro U12/U16/U21', location: '' },
    { date: '2025-10-05', title: 'Data reserva – Brasileiro U12/U16/U21', location: '' },
    { date: '2025-10-10', title: 'PAFA – Sul Americano Adulto', location: 'Rosário/Argentina' },
    { date: '2025-10-11', title: 'PAFA – Sul Americano Adulto', location: 'Rosário/Argentina' },
    { date: '2025-10-12', title: 'PAFA – Sul Americano Adulto', location: 'Rosário/Argentina' },
    { date: '2025-10-25', title: 'Brasileiro U10/U14/U18', location: 'Sogipa/RS' },
    { date: '2025-10-26', title: 'Brasileiro U10/U14/U18', location: 'Sogipa/RS' },

    // Novembro
    { date: '2025-11-21', title: 'PAFA – Sul Americano U18', location: 'Clube Duque de Caxias/PR' },
    { date: '2025-11-22', title: 'PAFA – Sul Americano U18', location: 'Clube Duque de Caxias/PR' },
    { date: '2025-11-23', title: 'PAFA – Sul Americano U18', location: 'Clube Duque de Caxias/PR' },
  ];

  // ====== GALERIA ======
  const gallery = document.getElementById('gallery');
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lightImg');
  const lbCap = document.getElementById('lightCap');

  function buildPhotoFigure(entry){
    const fig = document.createElement('figure');
    const img = document.createElement('img');
    img.loading = 'lazy';
    img.alt = entry.alt || '';

    let idx = 0;
    const tryNext = () => {
      if(!entry.candidates || !entry.candidates.length || idx >= entry.candidates.length){
        img.style.display='none';
        const ph = document.createElement('div'); ph.textContent = 'Foto não encontrada'; ph.style.padding='16px'; ph.style.textAlign='center'; ph.style.color='var(--muted)';
        fig.prepend(ph);
        return;
      }
      img.src = entry.candidates[idx++];
    };

    img.onerror = tryNext;
    img.addEventListener('click', () => {
      if(!img.src) return;
      lbImg.src = img.src; lbImg.alt = entry.alt || '';
      lbCap.textContent = entry.alt || '';
      lb.classList.add('open');
    });

    const cap = document.createElement('figcaption'); cap.textContent = entry.alt || '';
    fig.appendChild(img); fig.appendChild(cap);
    tryNext();
    return fig;
  }

  PHOTOS.forEach(p => { gallery.appendChild(buildPhotoFigure(p)); });

  // ====== CALENDÁRIO ======
  const cal = document.getElementById('cal');
  const monthLabel = document.getElementById('monthLabel');
  const eventList = document.getElementById('eventList');
  const upcoming = document.getElementById('upcoming');

  const DOW = ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'];
  const MONTHS = ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
  let view = new Date(); view.setDate(1);

  function ymd(d){return d.toISOString().slice(0,10)}
  function parseTime(s){ if(!s) return null; const [H,M]=s.split(':').map(Number); return {H,M}; }

  function googleLink(ev){
    const d = ev.date.replace(/-/g,'');
    const s = (ev.start||'09:00').replace(':','')+'00';
    const e = (ev.end||'10:00').replace(':','')+'00';
    const qs = new URLSearchParams({
      action:'TEMPLATE',
      text: ev.title||'Evento',
      dates: `${d}T${s}/${d}T${e}`,
      location: ev.location||'',
      details: 'Clube Mercês – Punhobol'
    });
    return 'https://calendar.google.com/calendar/render?'+qs.toString();
  }

  function renderHeader(){
    cal.innerHTML = '';
    DOW.forEach(d => {
      const el = document.createElement('div'); el.textContent = d; el.className='dow'; cal.appendChild(el);
    });
  }

  function renderCalendar(){
    renderHeader();
    monthLabel.textContent = MONTHS[view.getMonth()] + ' ' + view.getFullYear();

    const start = new Date(view);
    const firstDay = (start.getDay()+7)%7; // 0=Dom
    const daysInMonth = new Date(view.getFullYear(), view.getMonth()+1, 0).getDate();
    const prevDays = firstDay;

    const today = new Date(); today.setHours(0,0,0,0);
    const cells = 42; // 6 semanas

    for(let i=0;i<cells;i++){
      const cell = document.createElement('div'); cell.className='day';
      const dayDate = new Date(view);
      dayDate.setDate( i - prevDays + 1 );

      if(dayDate.getMonth() !== view.getMonth()) cell.classList.add('muted');
      cell.textContent = dayDate.getDate();

      const dayStr = ymd(dayDate);
      const dayEvents = EVENTS.filter(ev => ev.date === dayStr);
      if(dayEvents.length){
        const dot = document.createElement('div'); dot.className='dot'; cell.appendChild(dot);
        cell.style.cursor='pointer';
        cell.addEventListener('click', () => showEvents(dayStr, dayEvents));
      }

      if(ymd(dayDate) === ymd(today)) cell.classList.add('today');
      cal.appendChild(cell);
    }

    renderUpcoming();
  }

  function showEvents(dateStr, events){
    const nice = new Date(dateStr+'T00:00:00');
    const title = `<strong>${nice.toLocaleDateString('pt-BR', {weekday:'long', day:'2-digit', month:'long'})}</strong>`;
    eventList.querySelector('.small').innerHTML = title;
    const box = document.createElement('div');
    box.innerHTML = events.map(ev => `
      <div class="event-item">
        <div><strong>${ev.title||'Evento'}</strong></div>
        <div class="small">${ev.start||''}${ev.end?(' - '+ev.end):''} • ${ev.location||''}</div>
        <div class="small"><a href="${googleLink(ev)}" target="_blank" rel="noreferrer">Adicionar ao Google Calendar</a></div>
      </div>
    `).join('');
    const existing = eventList.querySelector('#selected');
    if(existing) existing.remove();
    box.id='selected';
    eventList.appendChild(box);
  }

  function renderUpcoming(){
    const now = new Date();
    const soon = EVENTS
      .map(ev => ({...ev, ts: new Date(ev.date+'T'+(ev.start||'00:00')+':00').getTime()}))
      .filter(ev => ev.ts >= now.getTime())
      .sort((a,b)=>a.ts-b.ts)
      .slice(0,5);

    upcoming.innerHTML = soon.length ? soon.map(ev => {
      const d = new Date(ev.date+'T00:00:00');
      const when = `${d.toLocaleDateString('pt-BR',{weekday:'short', day:'2-digit', month:'short'})} • ${ev.start||''}${ev.end?(' - '+ev.end):''}`;
      return `<div class="event-item">
        <div><strong>${ev.title||'Evento'}</strong></div>
        <div class="small">${when} • ${ev.location||''}</div>
        <div class="small"><a href="${googleLink(ev)}" target="_blank" rel="noreferrer">Adicionar ao Google Calendar</a></div>
      </div>`;
    }).join('') : '<div class="event-item small">Sem eventos futuros cadastrados.</div>';
  }

  document.getElementById('prev').onclick = ()=>{ view.setMonth(view.getMonth()-1); renderCalendar(); };
  document.getElementById('next').onclick = ()=>{ view.setMonth(view.getMonth()+1); renderCalendar(); };

  document.getElementById('year').textContent = new Date().getFullYear();
  renderCalendar();
  // ====== ROSTER (categorias e atletas) ======
  const ROSTER = {
    "Sub-10": ["Isabela","Antonella","Heleninha","Helena Brusamoli","Helena Man","Lívia","Júlia","Emanuelly"],
    "Sub-12": ["Guilherme","Welinton","Breno","Arthur","Mariana","Beatriz","Nina"],
    "Sub-14 Feminino": ["Helô","Rafa","Manu","Yasmin","Anne","Alana"],
    "Sub-14 Masculino": ["Enrico","João","Raul"],
    "Sub-16 Masculino": ["Davi","João Guilherme","Rafael"],
    "Sub-16 Feminino": ["Isabella","Yasmin","Giovanna","Naomi"],
    "Sub-18 Masculino": ["Lorenzo"]
  };

  const rosterRoot = document.getElementById('roster');
  const buscar = document.getElementById('buscar');

  function drawRoster(data){
    if(!rosterRoot) return;
    rosterRoot.innerHTML = '';
    Object.entries(data).forEach(([cat,names])=>{
      const card = document.createElement('div'); card.className='card';
      const h3 = document.createElement('h3'); h3.textContent = cat; card.appendChild(h3);
      const ul = document.createElement('ul');
      names.forEach(n=>{ const li=document.createElement('li'); li.textContent=n; ul.appendChild(li); });
      card.appendChild(ul);
      rosterRoot.appendChild(card);
    });
  }
  drawRoster(ROSTER);

  if(buscar){
    buscar.addEventListener('input', ()=>{
      const q = buscar.value.trim().toLowerCase();
      if(!q){ drawRoster(ROSTER); return; }
      const out = {};
      Object.entries(ROSTER).forEach(([cat,names])=>{
        const list = names.filter(n=> n.toLowerCase().includes(q));
        if(list.length) out[cat] = list;
      });
      drawRoster(out);
    });
  }
</script>
</body>
</html>
